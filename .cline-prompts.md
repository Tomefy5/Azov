# CLINE PROMPTS FOR AZOV

Ready-to-use prompts to copy-paste into Cline for rapid development.

---

## ðŸš€ PHASE 1: INFRASTRUCTURE (0-16h)

### Prompt 1.1: Backend Setup
```
Create Express.js backend structure for AZOV:

1. Initialize Express server with TypeScript
2. Setup middleware (CORS, helmet, error handling)
3. Configure Prisma ORM with PostgreSQL
4. Create JWT authentication middleware
5. Setup logging with Winston
6. Create error handling utilities
7. Setup environment variables (.env)

Follow patterns from .cline-architecture.md
Add JSDoc comments
Make it production-ready
```

### Prompt 1.2: Database Schema
```
Create Prisma schema for AZOV with these models:

1. User model:
   - id, phoneNumber (unique), email (unique), walletAddress (unique), did
   - passwordHash, reputationScore, trustLevel
   - timestamps (createdAt, updatedAt, lastLogin)

2. IdentityProfile model:
   - id, userId (FK), firstName, lastName, dateOfBirth, nationality
   - passportNumber, nationalIdNumber
   - biometricData (JSON), livenessScore
   - governmentVerified, walrusBlob, suiTransaction
   - expiryDate, status, revocationReason

3. Certificate model:
   - id, userId (FK), certificateType, contentHash
   - walrusBlob, suiTransaction, status
   - Array of validators with signatures
   - timestamps, expiryDate

4. EmploymentRecord model:
   - id, userId (FK), companyName, companyWallet
   - position, salary (encrypted), startDate, endDate
   - verified, verifiedBy, verifiedAt
   - walrusBlob, suiTransaction

5. BackgroundRecord model:
   - id, userId (FK), criminalRecords, civilDisputes
   - trafficRecords, bankruptcies (all JSON)
   - verified, privacySettings

6. ReputationScore model:
   - id, userId (FK), overallScore
   - legalScore, financialScore, professionalScore, socialScore
   - verificationScore, trustLevel
   - lastUpdated, calculatedBy

Add relationships, indexes, and constraints.
Add comments explaining each field.
```

### Prompt 1.3: Smart Contracts
```
Write Sui Move smart contracts for AZOV:

Create 3 contracts:

1. CertificateRegistry:
   - Struct for CertificateRegistry (owner, certificates table, total_certificates)
   - Struct for Certificate (id, creator, contentHash, walrusBlob, status)
   - Function: create_certificate() - Creates new certificate
   - Function: validate_certificate() - Adds validator signature
   - Function: revoke_certificate() - Revokes certificate
   - Function: get_certificate() - Retrieves certificate

2. ReputationOracle:
   - Struct for ReputationScore (owner, scores, trustLevel, lastUpdated)
   - Function: calculate_reputation() - Calculates overall score
   - Function: update_score() - Updates individual component

3. PaymentSplitter:
   - Constants: CREATOR_CUT=60%, VALIDATOR_CUT=20%, PLATFORM_CUT=10%, DAO_CUT=10%
   - Function: split_payment() - Splits payment according to percentages
   - Distribute to creator, validators, platform treasury, DAO

Add comprehensive comments.
Add error handling.
Make it gas-efficient.
Test before deployment.
```

### Prompt 1.4: Frontend Setup
```
Setup Next.js 14 frontend for AZOV:

1. Create Next.js project with TypeScript
2. Configure TailwindCSS + shadcn/ui
3. Setup project structure:
   - app/ (pages)
   - components/ (reusable components)
   - services/ (API clients)
   - stores/ (Zustand stores)
   - hooks/ (custom hooks)
   - types/ (TypeScript types)
   - lib/ (utilities)

4. Setup state management (Zustand)
5. Create auth store with login/logout
6. Create user store for profile
7. Setup API client with Axios
8. Create basic layout component
9. Add responsive navigation
10. Setup mobile-first design

Use shadcn/ui components.
Follow .cline-architecture.md patterns.
Add TypeScript strict mode.
```

---

## ðŸŽ¯ PHASE 2: FEATURES (16-36h)

### Prompt 2.1: Identity Service (Backend)
```
Create identity verification service for AZOV:

File: backend/src/services/identity.service.ts

Include:

1. Class IdentityService with methods:
   - verifyIdentity(input: VerifyIdentityInput) - Main verification
   - extractOCR(imagePath: string) - Extract text from document (use Ollama)
   - verifyBiometric(imageData: Buffer) - Check liveness + deepfake (use Replicate)
   - storeOnWalrus(data: any) - Encrypt and store on Walrus
   - createCertificateOnSui(data: any) - Create cert on blockchain
   - updateUserReputation(userId: string) - Increase score
   - getProfile(userId: string) - Get user identity profile

2. Validation with Zod schemas

3. Error handling for each operation

4. Logging for important steps

5. Database operations with Prisma

6. Proper TypeScript types

Follow patterns from .cline-architecture.md
Add JSDoc comments
Handle all error cases
```

### Prompt 2.2: Identity Controller (Backend)
```
Create identity controller for AZOV:

File: backend/src/controllers/identity.controller.ts

Methods:

1. uploadIdentity(req, res):
   - Validate request with Zod
   - Call identity service
   - Handle errors properly
   - Return certificate ID

2. getIdentity(req, res):
   - Get user profile
   - Return identity data

3. Error handler:
   - Map errors to HTTP status codes
   - Return consistent error responses

Follow Express patterns from .cline-architecture.md
Add authentication middleware
Add input validation
```

### Prompt 2.3: Identity Routes (Backend)
```
Create identity routes for AZOV:

File: backend/src/routes/identity.ts

Endpoints:

1. POST /api/identity/upload
   - Protected (requires auth)
   - Handle document and biometric upload
   - Return certificate ID

2. GET /api/identity/:userId
   - Protected (requires auth)
   - Return user identity profile

Use Express router
Add auth middleware
Add error handling
Follow project patterns
```

### Prompt 2.4: Identity Form (Frontend)
```
Create identity verification form component:

File: frontend/src/components/IdentityForm.tsx

Features:

1. Form with two file inputs:
   - Government ID upload (PDF/JPG/PNG)
   - Selfie photo (JPG/PNG)

2. Validation:
   - File size limits
   - File type validation
   - Using Zod schema

3. Form states:
   - Loading state while verifying
   - Error display
   - Success message

4. Form handlers:
   - onSubmit - Call API
   - Handle errors gracefully
   - Show progress

5. UI:
   - Use shadcn/ui components
   - TailwindCSS styling
   - Mobile responsive
   - Accessible (a11y)

Follow React patterns from .cline-architecture.md
Use React Hook Form + Zod
Add TypeScript types
```

### Prompt 2.5: Employment Service (Backend)
```
Create employment service for AZOV:

File: backend/src/services/employment.service.ts

Methods:

1. addEmploymentRecord(userId: string, data: EmploymentInput):
   - Validate input
   - Store in database
   - Return employment record

2. verifyEmployment(recordId: string, verifierWallet: string):
   - Employer verification
   - Create certificate on Sui
   - Store on Walrus
   - Update reputation

3. getEmploymentHistory(userId: string):
   - Get all employment records for user
   - Calculate career stats (avg job duration, trend)
   - Return formatted history

4. Private helpers:
   - validateCompanyWallet(wallet: string)
   - calculateCareerStats(records: EmploymentRecord[])
   - sendVerificationEmail(companyEmail: string)

Add validation with Zod
Add error handling
Add logging
Use Prisma for database
```

### Prompt 2.6: Employment Controller & Routes
```
Create employment controller and routes:

File: backend/src/controllers/employment.controller.ts
File: backend/src/routes/employment.ts

Controller methods:
1. addEmployment(req, res) - Add employment record
2. verifyEmployment(req, res) - Employer verification
3. getHistory(req, res) - Get employment history

Routes:
1. POST /api/employment/add - Add record
2. GET /api/employment/:userId - Get history
3. POST /api/employment/:id/verify - Employer verify

Add auth middleware
Add validation
Add error handling
```

### Prompt 2.7: Background Service (Backend)
```
Create background check service:

File: backend/src/services/background.service.ts

Methods:

1. getBackgroundCheck(userId: string):
   - Query criminal records (mock or API)
   - Query civil disputes
   - Query traffic records
   - Query bankruptcies
   - Return combined result

2. updatePrivacySettings(userId: string, settings: PrivacySettings):
   - Update who can see what
   - Employees only? Lenders only? Everyone?

3. verifyBackground(userId: string):
   - Mark as verified
   - Create certificate on Sui
   - Store on Walrus

4. revokeBackgroundRecord(userId: string, reason: string):
   - Mark record as revoked
   - Log reason
   - Update timestamp

Add validation
Add error handling
Add logging
Use Prisma
Mock data for MVP
```

### Prompt 2.8: Reputation Service (Backend)
```
Create reputation scoring service:

File: backend/src/services/reputation.service.ts

Methods:

1. calculateReputation(userId: string):
   - Get all verification data for user
   - Calculate 5 component scores:
     * Legal (25%): No criminal record = 100%
     * Financial (20%): Payment history = varies
     * Professional (15%): Job stability = varies
     * Social (5%): Community rating = varies
     * Verification (30%): How much verified = %
   - Calculate overall score (weighted average)
   - Assign trust level (Platinum/Gold/Silver/Bronze/New)
   - Return detailed breakdown

2. getTrustLevel(score: number):
   - Platinum: 95-100
   - Gold: 85-94
   - Silver: 70-84
   - Bronze: 50-69
   - New: <50

3. updateReputationOnEvent(userId: string, event: string):
   - Identity verified: +25 points
   - Employment verified: +15 points
   - Background verified: +10 points

Add math calculations
Add score capping (max 100)
Add cache with Redis
Use Prisma
```

### Prompt 2.9: Dashboard Component (Frontend)
```
Create dashboard component:

File: frontend/src/components/Dashboard.tsx

Features:

1. Display overall reputation score (0-100):
   - Large circular progress indicator
   - Trust level badge (Platinum/Gold/Silver/Bronze/New)

2. Trust breakdown (5 factors):
   - Pie chart with percentages
   - Legend showing each component
   - Legal, Financial, Professional, Social, Verification

3. Verification status:
   - Identity: Verified âœ“ / Pending â—‹ / Not started
   - Employment: Verified âœ“ / Pending â—‹ / Not started
   - Background: Verified âœ“ / Pending â—‹ / Not started

4. Quick action buttons:
   - Add Employment
   - Add Background
   - View Profile

5. Recent activity timeline:
   - Latest verifications
   - Timestamps
   - Scrollable list

Use React hooks
Use shadcn/ui components
Use TailwindCSS
Make it responsive
Add data fetching with SWR
Add loading states
Add error handling
```

---

## âœ¨ PHASE 3: POLISH (36-48h)

### Prompt 3.1: Testing Services
```
Create unit tests for identity service:

File: backend/src/services/identity.service.test.ts

Test cases:

1. verifyIdentity():
   - Should verify valid identity successfully
   - Should throw on invalid input
   - Should handle OCR extraction failure
   - Should handle biometric verification failure
   - Should handle Walrus storage failure
   - Should handle Sui transaction failure

2. extractOCR():
   - Should extract text successfully
   - Should throw on invalid image
   - Should throw on missing document

3. verifyBiometric():
   - Should verify liveness successfully
   - Should detect deepfake
   - Should throw on invalid image

Use Jest framework
Mock all external dependencies (Prisma, Walrus, Sui, Ollama)
Test error cases
Aim for 80%+ coverage
```

### Prompt 3.2: API Integration Tests
```
Create API integration tests:

File: backend/tests/identity.integration.test.ts

Test full flow:

1. User registration
2. Identity upload
3. Document verification
4. Biometric verification
5. Certificate creation
6. Reputation calculation
7. Dashboard display

Use supertest for API testing
Use test database
Test all endpoints
Test error responses
Test authentication
Test rate limiting
```

### Prompt 3.3: Bug Fixes & Optimization
```
Review and optimize backend code:

1. Check all endpoints respond < 500ms
2. Check database queries (no N+1)
3. Add missing error handling
4. Optimize Prisma queries
5. Add Redis caching for reputation
6. Add indexes to database
7. Fix mobile UI responsiveness
8. Add loading indicators
9. Add error messages
10. Test on slow networks

Run: npm run lint
Run: npm test
Check performance
Fix console warnings
```

### Prompt 3.4: Deployment Setup
```
Setup deployment configuration:

Files to create/update:

1. Frontend (.vercelrc or vercel.json):
   - Build command
   - Environment variables
   - Redirect rules

2. Backend (railway.json):
   - Start command
   - Environment variables
   - Port configuration

3. Database:
   - Prisma migrations
   - Connection string

4. Environment files:
   - .env.example (template)
   - .env.production (secrets template)

Setup CI/CD (GitHub Actions):
   - Run tests on push
   - Deploy on merge to main

Add deployment documentation
```

### Prompt 3.5: Demo Data Setup
```
Create demo data seeder:

File: backend/scripts/seed-demo-data.ts

Create 3 demo users:

1. User 1 (Complete Profile):
   - Email: demo1@azov.io / Password: password123
   - Phone: +261 XX 123 4567
   - Reputation: 82 (GOLD)
   - Identity: Verified âœ“
   - Employment: 2 records, both verified âœ“
   - Background: Verified âœ“

2. User 2 (Partial Profile):
   - Email: demo2@azov.io / Password: password123
   - Phone: +261 XX 234 5678
   - Reputation: 65 (SILVER)
   - Identity: Verified âœ“
   - Employment: 1 record, pending verification
   - Background: 1 civil dispute (settled)

3. User 3 (New User):
   - Email: demo3@azov.io / Password: password123
   - Phone: +261 XX 345 6789
   - Reputation: 40 (NEW)
   - Identity: Pending
   - Employment: Empty
   - Background: Empty

Generate wallets
Generate certificates
Create realistic data
```

---

## ðŸ”§ UTILITY PROMPTS

### Prompt: Add TypeScript Types
```
Review this file and add proper TypeScript types:

[paste code here]

Requirements:
- No 'any' types
- All function parameters typed
- All return types explicit
- Create interfaces for complex objects
- Use Zod for runtime validation

Show the updated code with types.
```

### Prompt: Generate API Documentation
```
Generate OpenAPI/Swagger documentation for this endpoint:

Endpoint: POST /api/identity/upload

Include:
- Description
- Request body schema
- Response schema
- Error responses
- Example requests/responses
- Authentication required
- Rate limits

Format as YAML for OpenAPI 3.0
```

### Prompt: Create README Section
```
Create README section for:

Topic: How to setup AZOV locally

Include:
- Prerequisites
- Installation steps
- Environment variables
- Database setup
- Running dev server
- Running tests
- Troubleshooting

Make it clear for beginners.
```

### Prompt: Optimize Database Query
```
Optimize this database query:

[paste current query]

Consider:
- Avoid N+1 queries
- Add indexes
- Use pagination
- Cache results
- Select only needed fields

Show before/after comparison.
```

### Prompt: Add Error Handling
```
Add proper error handling to this function:

[paste function]

Include:
- Input validation
- Try/catch blocks
- Meaningful error messages
- Logging
- Custom error classes
- HTTP status codes

Follow patterns from .cline-architecture.md
```

### Prompt: Create Unit Test
```
Create unit test for this function:

[paste function]

Test:
- Valid inputs
- Invalid inputs
- Error cases
- Edge cases
- Mock dependencies

Use Jest framework
Include test descriptions
Aim for 80%+ coverage
```

### Prompt: Explain Code
```
Explain this code in simple terms:

[paste code]

Include:
- What it does
- Why it's structured that way
- Key concepts
- Potential issues
- Suggestions for improvement
```

---

## ðŸš€ WORKFLOW EXAMPLE

### Example: Build Identity Feature End-to-End

```
Step 1: Run Prompt 2.1 (Backend Service)
â†’ Get identity.service.ts with all methods

Step 2: Run Prompt 2.2 (Backend Controller)
â†’ Get identity.controller.ts with endpoints

Step 3: Run Prompt 2.3 (Backend Routes)
â†’ Get identity.ts routes

Step 4: Run Prompt 2.4 (Frontend Form)
â†’ Get IdentityForm.tsx component

Step 5: Test locally
npm run dev

Step 6: If issues, use Utility Prompts:
- "Add Error Handling"
- "Optimize Database Query"
- "Create Unit Test"

Step 7: Deploy to production
```

---

## ðŸ’¡ TIPS FOR USING PROMPTS

1. **Copy exact prompts** - They're designed for specific tasks
2. **Modify if needed** - Add your specific requirements
3. **Stack prompts** - Use multiple prompts in sequence
4. **Reference files** - Mention .cline-context.md or .cline-architecture.md
5. **Provide context** - Paste existing code if relevant
6. **Ask for alternatives** - Request multiple approaches
7. **Test results** - Always verify generated code works
8. **Iterate** - Refine based on results

---

## âš¡ QUICK START

Need to build something fast?

```
1. Use Prompt 1.1-1.4 for setup (Hours 0-16)
2. Use Prompt 2.1-2.9 for features (Hours 16-36)
3. Use Prompt 3.1-3.5 for polish (Hours 36-48)
4. Use Utility Prompts as needed for fixes
```

---

**Status**: Ready to use ðŸš€  
**Last Updated**: Nov 7, 2025

***

## ðŸŽ¯ COMMENT L'UTILISER

### 1ï¸âƒ£ CrÃ©er le fichier
```bash
cd azov-platform
# Copiez tout le contenu ci-dessus dans:
# .cline-prompts.md
```

### 2ï¸âƒ£ Dans Cline, copier un prompt entier
```
Ouvrir .cline-prompts.md
Copier le prompt que vous voulez
Coller dans Cline
Envoyer
```

### 3ï¸âƒ£ Exemple complet:
```
[Ouvrir Cline]

Copier Prompt 2.1: Identity Service (Backend)

Coller dans Cline et envoyer

Cline gÃ©nÃ¨re: backend/src/services/identity.service.ts
```

***

## âœ… TOUS LES 5 FICHIERS CRÃ‰Ã‰S

```
azov-platform/
â”œâ”€â”€ .cline-context.md      âœ… Context du projet
â”œâ”€â”€ .cline-rules.md        âœ… Standards de code
â”œâ”€â”€ .cline-architecture.md âœ… Patterns & templates
â”œâ”€â”€ cline.json             âœ… Configuration
â””â”€â”€ .cline-prompts.md      âœ… Prompts prÃªts Ã  utiliser
```

**Vous Ãªtes 100% prÃªt Ã  dÃ©velopper AZOV avec Cline!** ðŸš€